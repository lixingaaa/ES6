<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    /**
     * Array.from()
     * Array.from方法用于将两类对象转为真正的数组：类似数组的对象（array-like object）和可遍历（iterable）的对象（包括 ES6 新增的数据结构 Set 和 Map）。
     * 类似数组的对象，本质特征只有一点，即必须有length属性。因此，任何有length属性的对象，都可以通过Array.from方法转为数组
     * **/
    {
      let arrayLike = {
        '0': 'a',
        '1': 'b',
        '2': 'c',
        length: 3
      }
      // ES5写法
      var arr1 = [].slice.call(arrayLike); // ['a', 'b', 'c']
      // ES6写法
      var arr2 = Array.from(arrayLike); // ['a', 'b', 'c']
    }
    {
      // 只要是部署了 Iterator 接口的数据结构，Array.from都能将其转为数组。
      Array.from('hello'); // ['h', 'e', 'l', 'l', 'o']
      let nameSet = new Set(['a', 'b'])
      Array.from(nameSet)
    }
    {
      // 如果参数是一个真正的数组，Array.from会返回一个一模一样的新数组。
      Array.from([1, 2, 3]); // [1, 2, 3]
    }
    {
      // 对于还没有部署该方法的浏览器，可以用Array.prototype.slice方法替代。
      const toArray = (() =>
        Array.from ? Array.from : obj => [].slice.call(obj)
      )();
    }
    {
      // Array.from还可以接受第二个参数，作用类似于数组的map方法，用来对每个元素进行处理，将处理后的值放入返回的数组。
      let arrayLike = {
        '0': '2',
        '1': '3',
        '2': '4',
        length: 3
      };
      Array.from(arrayLike, x => x * x); // [4, 9, 16]
      // 等同于
      Array.from(arrayLike).map(x => x * x); // [4, 9, 16]
      Array.from([1, 2, 3], (x) => x * x); // [1, 4, 9],
    } 
  </script>
</body>

</html>