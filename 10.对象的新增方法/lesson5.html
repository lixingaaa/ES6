<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    /**
     * Object.keys(), Object.values(), Object.entries()
     **/

    {
      // Object.keys(), 返回一个数组，成员是参数对象自身的（不含继承的）所有可遍历（enumerable）属性的键名。
      var obj = { foo: "bar", baz: 42 }
      Object.keys(obj); // ["foo", "baz"]
    }

    {
      // Object.values(), 返回一个数组，成员是参数对象自身的（不含继承的）所有可遍历（enumerable）属性的键值。
      var obj = { foo: "bar", baz: 42 }
      Object.values(obj); // ["bar", 42]
    }

    {
      // Object.entries(), 返回一个数组，成员是参数对象自身的（不含继承的）所有可遍历（enumerable）属性的键值对数组。
      const obj = { foo: 'bar', baz: 42 };
      Object.entries(obj); // [ ["foo", "bar"], ["baz", 42] ]
    }
    {
      // Object.entries的基本用途是遍历对象的属性。
      let obj = { one: 1, two: 2 }
      for (let [k, v] of Object.entries(obj)) {
        console.log(
          `${JSON.stringify(k)}: ${JSON.stringify(v)}`
        );
      }
      // "one": 1
      // "two": 2
    }
    {
      // Object.entries方法的另一个用处是，将对象转为真正的Map结构。
      const obj = { foo: "bar", baz: 42 }
      const map = new Map(Object.entries(obj));
      map; // Map {"foo" => "bar", "baz" => 42}
    }
    {
      // 自己实现Object.entries方法
      // Generator函数的版本
      function* entries(obj) {
        for (let key of Object.keys(obj)) {
          yield [key, obj[key]];
        }
      }

      // 非Generator函数的版本
      function entries(obj) {
        let arr = [];
        for (let key of Object.keys(obj)) {
          arr.push([key, obj[key]]);
        }
        return arr;
      }
    }
  </script>
</body>

</html>